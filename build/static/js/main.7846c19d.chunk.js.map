{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonsToShow.js","services/persons.js","App.js","index.js"],"names":["Filter","props","react_default","a","createElement","value","newFilter","onChange","handleFiltering","Person","onSubmit","submit","newName","handleNameAdding","newNumber","handleNumberAdding","type","PersonsToShow","_ref","personsToShow","handleDeleting","map","person","key","id","name","number","onClick","url","services_persons","axios","get","then","response","data","nameObject","post","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","error","setError","_useState11","_useState12","redError","setRedError","filter","toLowerCase","includes","useEffect","personService","initialPeople","message","errorStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","components_Filter","event","target","components_Person","preventDefault","some","window","confirm","find","numberChangedPerson","objectSpread","returned","p","setTimeout","returnedPerson","console","log","catch","components_PersonsToShow","i","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.7846c19d.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = (props) =>{\n    return(\n        <div>\n            filter by name:\n            <input value={props.newFilter} onChange={props.handleFiltering}></input>\n        </div>\n    )\n}\nexport default Filter","import React from \"react\";\n\nconst Person = (props)=>{\n    return(\n        <form onSubmit={props.submit}>\n          <p></p>\n          <div>Name:\n          <input value={props.newName} onChange={props.handleNameAdding}/>\n          </div>\n          <p></p>\n          <div>Number:\n          <input value={props.newNumber} onChange={props.handleNumberAdding}></input>\n          </div>\n          <p></p>\n          <button type=\"submit\">add to phonebook</button>\n        </form>\n    )\n}\nexport default Person","import React from \"react\";\n\nconst PersonsToShow=({personsToShow, handleDeleting})=>{\n    return(\n        <div>\n            {personsToShow.map(person=>\n                <ul key={person.id}>\n                    {person.name} {person.number}\n                    <button onClick={() =>handleDeleting(person)}>delete</button>\n                </ul>)}\n\n        </div>\n    )\n}\nexport default PersonsToShow","import axios from \"axios\";\n\n//mistä ottaa datan on tämä url, eri url mihin näyttää\nconst url=('/api/persons')\n//const url=('https://powerful-woodland-97841.herokuapp.com/api/persons')\n\n//määrittele axios käskyt constiin\nconst getAll=()=>{\n    const req= axios.get(url)\n    return req.then(response=>response.data)\n}\nconst create = nameObject =>{\n    const req=axios.post(url, nameObject)\n    return req.then(response=>response.data)\n}\nconst update = (id, nameObject)=>{\n    const req=axios.put(`${url}/${id}`, nameObject)\n    return req.then(response=>response.data)\n}\nconst toDelete = (id)=>{\n    const req=axios.delete(`${url}/${id}`)\n    return req.then(response=>response.data)\n}\nexport default { getAll, create, update, toDelete }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Person from './components/Person'\nimport PersonsToShow from './components/PersonsToShow'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([\n    { name: 'Arto Hellas', id:'1', number: '0401231244'}\n  ]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [error, setError] = useState(null)\n  const [redError, setRedError]= useState(false)\n\n  const addPerson = (event) =>{\n    event.preventDefault()\n\n    const exists = persons.some(person=>person.name === newName)\n    if (exists){\n      if(window.confirm(`${newName} is already added to the phonebook, do you want to replace the old number with the new one?`)){\n        const person= persons.find(person=>person.name===newName)\n        const numberChangedPerson= { ...person, number: newNumber}\n        personService\n          .update(numberChangedPerson.id, numberChangedPerson)\n          .then(returned=>{\n            setPersons(persons.map(p=>p.name !== newName? p : numberChangedPerson))\n            //alert(`number updated`)\n            setRedError(false)\n            setError('Number updated')\n            setTimeout(()=>{\n              setError(null)\n            }, 4000)\n          })\n      } else {\n        setNewName('')\n        setNewNumber('')\n        return\n      }\n    } else {\n      const nameObject = {\n      name : newName,\n//      id : persons.length+1, älä lisää tässä id, muuten poiston jälkeen ei voi tehdä samalle id:lle uutta\n      number : newNumber,\n      }\n      /*palvelimelle uuden hlön lähettäessä/talletettaessa vain tämä tarvitaan:\n      axios\n        .post('http://localhost:3001/persons', nameObject)\n        .then(response=>{\n          console.log(response.data)\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n        })  */\n        //käytä personServiceä palvelimen kanssa kommunikointiin, korvaa ylemmän\n        personService\n          .create(nameObject)\n          .then(returnedPerson=>{\n            setPersons(persons.concat(returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            console.log(returnedPerson)\n            setRedError(false)\n            setError('Person added')\n            setTimeout(()=>{\n              setError(null)\n            }, 4000)\n          }).catch(error=>{\n            setRedError(true)\n            console.log('frontissa: ', error.response.data)\n            //setError(`couldn't create a person: ${error.reponse.data.error}`)\n            setError(error.response.data.error)\n            setTimeout(()=>{\n              setError(null)\n            }, 4000)\n          })\n    }\n  }\n\n  const handleNameAdding = (event) =>{\n    setNewName(event.target.value)\n  }\n  const handleNumberAdding = (event) =>{\n    setNewNumber(event.target.value)\n  }\n  const handleFiltering = (event) =>{\n    setNewFilter(event.target.value)\n  }\n  const handleDeleting=(person)=>{\n    //jos true niin poista person\n    if (window.confirm(`sure you want to delete ${person.name}?`)){\n      personService\n      .toDelete(person.id)\n      .then(returnedPerson=>{\n        setPersons(persons.filter(i=>i.id !== person.id))\n        console.log(`deleted ${person.name}`)\n        setRedError(false)\n        setError('Person deleted')\n        setTimeout(()=>{\n          setError(null)\n        }, 4000)\n      })\n      .catch(error=>{\n        console.log(`couldn't delete ${person.name} maybe already deleted`)\n        setPersons(persons.filter(i=>i.id !== person.id))\n        setRedError(true)\n        setError('Person already deleted')\n        setTimeout(()=>{\n          setError(null)\n        }, 4000)\n      })\n    }\n\n  }\n\n  const Notification=({ message, redError })=>{\n    const errorStyle={\n      color: redError ? 'red' : 'green',\n      background: 'lightgrey',\n      fontSize: '20px',\n      borderStyle: 'solid',\n      borderRadius: '5px',\n      padding: '10px',\n      marginBottom: '10px',\n    }\n    if (message=== null){\n      return null\n    } else{\n      return <div style={errorStyle}>\n        {message}\n      </div>\n    }\n  }\n\n  const personsToShow = newFilter === '' ? persons : persons.filter(person=> person[\"name\"].toLowerCase().includes(newFilter.toLowerCase()))\n\n  useEffect(()=>{\n    personService\n      .getAll()\n      .then(initialPeople=>{\n        setPersons(initialPeople)\n      })\n  }, [] )\n    \n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={error} redError={redError}/>\n      <Filter value={newFilter} handleFiltering={handleFiltering}/>\n      <Person \n      newName={newName}\n      handleNameAdding={handleNameAdding}\n      newNumber={newNumber}\n      handleNumberAdding={handleNumberAdding}\n      submit={addPerson}\n      />\n      <h2>Numbers</h2>\n      <PersonsToShow personsToShow={personsToShow} handleDeleting={handleDeleting}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport './index.css'\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)\n"],"sourceRoot":""}